<div class="container mx-auto pt-20">
    <h1 class="text-center">Communautés - Tous les avis récents</h1>
    <div *ngIf="isLoading">Chargement...</div>
    <div *ngIf="!isLoading" class="container mx-auto">
        <div class="flex flex-col items-center">
            <div *ngFor="let review of reviews.items" class="pt-8 w-full">
                <div class="flex flex-row justify-start ">
                    <div class="w-14">
                        <img class="w-10 h-10 object-fill" [src]="review.user.profile_picture" />
                    </div>
                    <div class="flex flex-col w-full">
                        <div class="flex flex-row justify-between">
                            <div class="font-bold">{{ review.user.username}}</div>
                            <div>{{ review.creation_date | date}}</div>
                        </div>
                        <div class="flex flex-col items-start pt-2">
                            <h3>Note du visuel :</h3>
                            <app-rating-stars [isStatic]="true" [rate]="review.note_visual*2"></app-rating-stars>
                        </div>
                        <div class="flex flex-col items-start pt-2">
                            <h3>Note de la musique :</h3>
                            <app-rating-stars [isStatic]="true" [rate]="review.note_music*2"></app-rating-stars>
                        </div>
                        <div class="pt-2 italic">{{ review.description}}</div>
                    </div>
                </div>
                <div class="pt-4 pr-4 italic flex justify-end">
                    <div class="overflow-hidden text-ellipsis whitespace-nowrap">
                        De <a class="underline" [routerLink]="['/musics',review.music.id]">{{review.music.name}}</a>
                    </div>
                </div>
            </div>
        </div>
        <app-pagination (onPageChange)="onPageChange($event)" [currentPage]="currentPage"
            [pagedObject]="reviews"></app-pagination>
    </div>
</div>